<div *ngIf="playername" class="playercontainer">
    <div class="top">
        <div class="topleft">
            <div class="title">
                <p style="font-size: 3rem;">{{playername}}</p>
            </div>
            <div class="pargraph">
                <p>种族:{{player.race}}</p>
                <p>姓名:{{player.realname}}</p>
                <p>绰号:{{player.nickname}}</p>
                <p>国家:{{player.country}}</p>
            </div>
        </div>
        <div class="picturediv">
            <img style="height: 100%;width: auto;" [src]="pictureSrc" alt="">
        </div>
    </div>
    <mat-divider></mat-divider>

    <div class="player-list-main">
        <div style="overflow:auto;height: 100%;width: 100%;">
            <div *ngIf="!haveDiscuss" class="discussNotFound">
                <div class="buttondiv">
                    <div *ngIf="!userdata.id" class="notlogin">
                        <a href=""><strong>登录发表评论</strong></a>
                    </div>
                    <mat-accordion *ngIf="userdata.id">
                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    发言
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field appearance="outline">
                                <mat-label>您的评论</mat-label>
                                <textarea matInput [(ngModel)]="discuss"></textarea>
                            </mat-form-field>
                            <button mat-button color="primary" (click)="postDiscuss(discuss)">发表</button>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <div><strong>暂无评论</strong> </div>
            </div>
            <div *ngIf=haveDiscuss>
                <div class="buttondiv">
                    <div *ngIf="!userdata.id" class="notlogin">
                        <a href=""><strong>登录发表评论</strong></a>
                    </div>
                    <mat-accordion *ngIf="userdata.id">
                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    发言
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field appearance="outline">
                                <mat-label>您的评论</mat-label>
                                <textarea matInput [(ngModel)]="discuss"></textarea>

                            </mat-form-field>
                            <button mat-button color="primary" (click)="postDiscuss(discuss)">发表</button>
                            <p></p>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <table mat-table [dataSource]="dataSource" class="example-table">
                    <ng-container matColumnDef="name">
                        <td class="tableitem" mat-cell *matCellDef="let element">
                            <div class="discussItem">
                                <div class="discusstitle">
                                    <div class="discusstitleID">
                                        <strong>{{element.user}}</strong>
                                    </div>
                                    <div class="discussdate">
                                        {{element.date*1000 | date:'MM-dd HH:mm'}}
                                    </div>
                                </div>
                                <div class="discussbody">
                                    <p>{{element.context}}</p>  
                                </div>
                                <div class="replaybutton">
                                    <a style="display: block;padding-right: 3px;">回复</a>
                                    <a *ngIf='element.userid == userdata.id' (click)='deleteDiscuss(element.id)'>删除</a>
                                </div>
                            </div>
                        </td>
                    </ng-container>
                    <tr style="padding: 0%;" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>

        </div>
        <mat-paginator [pageSizeOptions]="[10]" showFirstLastButtons></mat-paginator>
    </div>
</div>
<div *ngIf="!playername" class="containernone">
    <h1>最新更新</h1>
</div>